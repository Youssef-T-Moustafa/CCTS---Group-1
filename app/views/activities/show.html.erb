<!-- app/views/activities/show.html.erb -->
<% if flash[:notice] %>
  <p class="alert alert-success"><%= flash[:notice] %></p>
<% end %>
<% if flash[:alert] %>
  <p class="alert alert-danger"><%= flash[:alert] %></p>
<% end %>
<div class="container mt-4">
  <h1>Activity Details</h1>
  <table class="table table-bordered">
    <tbody>
      <tr>
        <th scope="row">Activity Title</th>
        <td><%= @activity.activity_title %></td>
      </tr>
      <tr>
        <th scope="row">Description</th>
        <td><%= @activity.description %></td>
      </tr>
      <tr>
        <th scope="row">Start Date</th>
        <td><%= @activity.start_date %></td>
      </tr>
      <tr>
        <th scope="row">End Date</th>
        <td><%= @activity.end_date %></td>
      </tr>
      <tr>
        <th scope="row">Requested Budget</th>
        <td><%= @activity.requested_budget %></td>
      </tr>
      <tr>
        <th scope="row">Club</th>
        <td><%= @activity.club.name if @activity.club %></td>
      </tr>
    </tbody>
  </table>
  <div class="btn-group-vertical" role="group">
    <%= form_tag({ action: 'upload', id: @activity.id }, multipart: true, remote: true, html: { id: 'upload-form' }) do %>
      <%= hidden_field_tag :id, @activity.id %>
      <%= csrf_meta_tags %>
      <label for="mediaFile">Upload Media:</label>
      <input type="file" id="mediaFile" name="mediaFile" accept="image/*, video/*">
      <input type="submit" value="Upload" class="btn btn-info btn-sm mt-2">
    <% end %>
    <%= link_to "Edit this activity", edit_activity_path(@activity), class: "btn btn-warning btn-sm mt-2" %>
    <%= link_to "Back to Dashboard", dashboard_path, class: "btn btn-secondary btn-sm mt-2" %>
    <%= button_to "Delete this activity", @activity, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm mt-2" %>
    <br>
    <% if @activity.media %>
      <h4>Media Uploaded: <%= @activity.media['filename'] %>
        <%= link_to 'Download', activity_media_path(@activity.id), download: @activity.media['filename'] %></h4>
    <% end %>
  </div>
</div>
